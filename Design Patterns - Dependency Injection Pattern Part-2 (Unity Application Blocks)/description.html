<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Design Patterns - Dependency Injection Pattern Part-2 (Unity Application Blocks)</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" />
        <link href="description/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="description/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>Design Patterns - Dependency Injection Pattern Part-2 (Unity Application Blocks)</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            Silverlight, ASP.NET, Windows Forms, WPF, Prism, Unity, Unity Blocks
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            Silverlight, ASP.NET, Windows Forms, Architecture and Design, WPF, Prism, Design Patterns, Unity, Dependancy Injection, Dependancy Injection Pattern, Unity Blocks
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Desktop, Web, Cloud, Phone, Data
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary Language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Last Updated</label>
                    <div id="LastUpdated">10/15/2012</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">MS-LPL</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="http://code.msdn.microsoft.com/Dependency-Injection-with-d9222c2f">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy Code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<p><span style="color:#ff0000; font-size:small">Work In Progress -&nbsp;I am updating the content and samples parellel.</span></p>
<p><span style="color:#008000; font-size:medium">Targeted Audience:</span></p>
<p><span style="font-size:small">1.&nbsp;.NET Architects</span><br>
<span style="font-size:small">2.&nbsp;.NET Application Designers</span><br>
<span style="font-size:small">3.&nbsp;.NET Application Developers</span></p>
<p><span style="color:#008000; font-size:medium">Prerequisites:</span></p>
<p><span style="font-size:small">1.&nbsp;.Net technologies.</span><br>
<span style="font-size:small">2.&nbsp;Basic understanding of design patterns.</span><br>
<span style="font-size:small">3.&nbsp;Basic understanding of OOPS.</span><br>
<span style="font-size:small">4.&nbsp;Factories (Abstract Factory &amp; Factory Method).</span><br>
<span style="font-size:small">5.&nbsp;Container Pattern.</span><br>
<span style="font-size:small">6.&nbsp;SOLID principles. </span><span style="font-size:small">(Refer
<a href="http://gallery.technet.microsoft.com/OOPS-Principles-SOLID-017627d2">http://gallery.technet.microsoft.com/OOPS-Principles-SOLID-017627d2</a>)</span></p>
<p><span style="font-size:small"><strong>Part 1:</strong> Design Patterns - Dependency Injection Pattern&nbsp;(Inversion Of Control)<a href="http://code.msdn.microsoft.com/Dependency-Injection-with-5702acaf">http://code.msdn.microsoft.com/Dependency-Injection-with-5702acaf</a></span></p>
<p><span style="font-size:medium; color:#008000">What is Unity Application Block:</span></p>
<p><span style="font-size:small">The Unity Application Block (Unity) is a lightweight, extensible dependency injection container that supports interception, constructor injection, property injection, and method call injection.</span></p>
<p><span style="font-size:small">Provides simplified object creation, especially for hierarchical object structures and dependencies, which simplifies application code.</span></p>
<p><span style="font-size:small">Supports abstraction of requirements; this allows developers to specify dependencies at run time or in configuration and simplify management of&nbsp;crosscutting concerns&nbsp;(logging, exception handling, caching etc).</span></p>
<p><span style="font-size:small">It increases flexibility by deferring component configuration to the container.</span></p>
<p><span style="font-size:small">It has a service location capability; this allows clients to store or cache the container.</span></p>
<p><span style="font-size:small">It especially useful in ASP.NET Web applications, where developers can persist the container in the ASP.NET session or application.</span></p>
<p><span style="font-size:small">Unity is a general-purpose container for use in any type of Microsoft&reg; .NET Framework-based application.</span></p>
<p><span style="font-size:small">Unity is extensible. we can write container extensions that change the behavior of the container, or add new capabilities. For example, the interception feature provided by Unity, which we can use to add policies to objects,
 is implemented as a container extension.</span></p>
<p><span style="font-size:small; color:#008000">Note:&nbsp;</span><span style="font-size:small">Dependency injection provides opportunities to simplify code, abstract dependencies between objects, and automatically generate dependent object instances.</span></p>
<p><span style="font-size:small">However, the process may have a minor impact on performance, and it can increase complexity where only simple dependencies exist.</span></p>
<p><span style="font-size:medium; color:#008000">How Unity Works?</span></p>
<p><span style="color:#000000; font-size:small">1. Required code calls the Resolve method.</span></p>
<p><span style="color:#000000; font-size:small">2. Unity Resolves the type and creates the object instance.</span></p>
<p><span style="color:#000000; font-size:small">3. Unity resolves the type of appropriate constructor and method parameters and properties of the object, and injects the resolved dependent object instances into the target object.
</span></p>
<p><span style="color:#000000; font-size:small">4. Unity resolves the type of appropriate constructor and method parameters and properties of all dependent objects, and injects these into the dependent object instances. This process continues for all dependent
 objects.</span></p>
<p><span style="color:#000000; font-size:small">5. Unity returns the fully populated object to the calling code.</span>&nbsp;</p>
<p><strong><span style="font-size:medium; color:#008000"><img id="65477" src="description/new bitmap image.bmp" alt="" width="568" height="624"></span></strong></p>
<p><span style="font-size:medium; color:#008000">The architecture and initialization of the main classes in the Unity Application Block</span></p>
<p><strong><span style="font-size:medium; color:#008000"><img id="65478" src="description/efb99888-9c37-4b38-8b01-95a165aab34bnew bitmap image.bmp" alt="" width="600" height="528">
</span></strong><span style="color:#0000ff; font-size:medium"><span style="font-size:small">&nbsp;</span></span></p>
<p><span style="color:#0000ff; font-size:medium"><span style="font-size:small">Note: To understand how Builder and Object Builder works in Unity Read more about builder pattern here
<a href="http://code.msdn.microsoft.com/Design-Patterns-Builder-26d38c45">http://code.msdn.microsoft.com/Design-Patterns-Builder-26d38c45</a></span></span></p>
<p><span style="color:#008000; font-size:medium">How to use Unity?</span></p>
<p><span style="color:#000000; font-size:small"><span style="color:#800000">&bull; Add these dll references to console application&nbsp;and write the below using statement.</span><br>
Microsoft.Practices.Unity.dll &amp; Microsoft.Practices.ObjectBuilder2.dll&nbsp;</span></p>
<p><span style="color:#000080; font-size:small"><span class="cs__keyword">using</span>&nbsp;<a class="libraryLink" href="http://msdn.microsoft.com/en-US/library/Microsoft.Practices.Unity.aspx"  title="Auto generated link to Microsoft.Practices.Unity">Microsoft.Practices.Unity</a>;&nbsp;<br>
<span class="cs__keyword">using</span>&nbsp;<a class="libraryLink" href="http://msdn.microsoft.com/en-US/library/Microsoft.Practices.Unity.Configuration.aspx"  title="Auto generated link to Microsoft.Practices.Unity.Configuration">Microsoft.Practices.Unity.Configuration</a>;&nbsp;<br>
<span class="cs__keyword">using</span>&nbsp;<a class="libraryLink" href="http://msdn.microsoft.com/en-US/library/Microsoft.Practices.Unity.StaticFactory.aspx"  title="Auto generated link to Microsoft.Practices.Unity.StaticFactory">Microsoft.Practices.Unity.StaticFactory</a>;</span></p>
<div class="endscriptcode"><span style="color:#000000; font-size:small"><span style="color:#000080">
<p><span style="color:#800000">&bull; Setting Up the Unity Container</span></p>
<p><span style="color:#000000">First create a new instance of the UnityContainer class or use a reference to an existing instance.
</span></p>
<p><span style="color:#000080">IUnityContainer&nbsp;myContainer&nbsp;=&nbsp;<span class="cs__keyword">new</span>&nbsp;UnityContainer();&nbsp;<br>
<span class="cs__com" style="color:#008000">//Child&nbsp;container&nbsp;(Nested&nbsp;containers)&nbsp;</span><br>
IUnityContainer&nbsp;childCtr&nbsp;=&nbsp;myContainer.CreateChildContainer();</span></p>
</span>
<div class="endscriptcode"><span style="color:#000000">Note: Nesting containers provides two useful capabilities for managing dependency injection and object lifetime.<br>
1. Control the scope and lifetime of singleton object instances. <br>
2. Register different mappings for specific types.</span></div>
<div class="endscriptcode"><span style="color:#000080">&nbsp;</span></div>
<div class="endscriptcode"><span style="color:#800000"><span style="color:#800000">&bull;
</span>Register mappings for a Unity container:</span></div>
<p><span style="color:#000000"><span style="color:#000080">1. RegisterType: </span>
This method registers a type with the container. At the appropriate time, the container will build an instance of the type we specify. This could be in response to dependency injection through class attributes or when we call the Resolve method.
</span></p>
<p><span style="color:#000000">The target type must implement the interface, or inherit from the class, that we specify as the registered type.</span></p>
<p><span style="color:#000000">E.g. Register a mapping for an interface named IMyService, and specifies that the container should return an instance of the CustomerService class (which implements the IMyService interface).</span></p>
<p><span style="color:#000000">Register a mapping (default)&nbsp;for an interface or class to a concrete type.</span></p>
<p><span style="color:#000080">myContainer.RegisterType&lt;IMyService,&nbsp;CustomerService&gt;();</span></p>
<div class="endscriptcode"><span style="color:#000000">Registering Named instance (<span style="color:#000000">Non-default)</span>.</span></div>
<div class="endscriptcode"><span style="color:#000000"><span style="color:#000080">&nbsp;</span></span></div>
<div class="endscriptcode"><span style="color:#000000"><span style="color:#000080">myContainer.RegisterType&lt;IMyService,&nbsp;CustomerService&gt;(<span class="cs__string">&quot;Customers&quot;</span>);&nbsp;<br>
&nbsp;<br>
<span class="cs__com" style="color:#008000">//Helps&nbsp;in&nbsp;creating&nbsp;more&nbsp;than&nbsp;one&nbsp;instance&nbsp;</span><br>
myContainer.RegisterType&lt;IMyService,&nbsp;CustomerService&gt;(<span class="cs__string">&quot;CustomersOriginal&quot;</span>);</span></span></div>
<div class="endscriptcode"><span style="color:#000000"><span style="color:#000080"><span style="color:#000000">&nbsp;</span></span></span></div>
<div class="endscriptcode"><span style="color:#000000"><span style="color:#000080"><span style="color:#000000">Map a class or object type to a more specific class that inherits from it.</span><br>
</span></span></div>
<div class="endscriptcode"><span style="color:#000000"><span style="color:#000080">myContainer.RegisterType&lt;MyServiceBase,&nbsp;CustomerService&gt;();</span></span></div>
</span><span style="font-size:small">
<div class="endscriptcode"><span style="color:#000000">&nbsp;</span>&nbsp;</div>
<div class="endscriptcode"><span style="color:#800000">&bull; Register an existing object instance as an externally controlled instance.</span></div>
</span><span style="font-size:small">&nbsp;</span><span style="font-size:small"><span style="color:#000080">&nbsp;</span></span><span style="color:#000000; font-size:small">
<div class="endscriptcode"><span style="color:#000000"><span style="color:#000080">2. RegisterInstance:
</span>This method registers with the container an existing instance of a type that we specify, with the lifetime that you specify. The container will return the existing instance during that lifetime. Lifetime section will be covered below.</span></div>
<span style="color:#000080">
<div class="endscriptcode"><span style="color:#000000"><span style="color:#000080">&nbsp;</span></span><span style="color:#000000"><span style="color:#000080"><span style="color:#000080">&nbsp;</span></span></span>
<div class="endscriptcode"><span style="color:#000000"><span style="color:#000080"><span style="color:#000080">CustomerService myCustomerService = new CustomerService ();<br>
&nbsp;&nbsp;<br>
myContainer.RegisterInstance&lt;IMyService&gt;(myCustomerService); <br>
myContainer.RegisterInstance&lt;CustomerService&gt;(myCustomerService); <br>
myContainer.RegisterInstance&lt;CustomerService&gt;(&quot;CustomerServiceInstance&quot;, myCustomerService);</span>&nbsp;</span></span>&nbsp;</div>
<div class="endscriptcode"><span style="color:#800000">&nbsp;</span></div>
<div class="endscriptcode"><span style="color:#800000">&bull; Fluent interface of the container.</span></div>
</div>
<p><span style="color:#000000">Fluent interface means that you can use a chain of methods in one statement.</span></p>
<p><span style="color:#000080">EmailService myEmailService = new EmailService();<br>
IUnityContainer myContainer = new UnityContainer()<br>
&nbsp;&nbsp; .RegisterType&lt;IMyService, DataService&gt;()<br>
&nbsp;&nbsp; .RegisterType&lt;IMyUtilities, DataConversions&gt;()<br>
&nbsp;&nbsp; .RegisterInstance&lt;IMyService&gt;(myEmailService);</span></p>
<div class="endscriptcode"><span style="color:#800000">&bull; Retrieve an object from the container.</span></div>
<div class="endscriptcode"><span style="color:#800000">&nbsp;</span></div>
<div class="endscriptcode"><span style="color:#000000">If you call the <span style="color:#808000">
Resolve </span>method and specify the default instance of a type that is not registered, the container simply generates and returns an instance of that type. However, the only time that this is useful is when the object you are generating contains dependency
 attributes that the container will use to inject dependent objects into the requested object.</span></div>
<div class="endscriptcode"><span style="color:#000000">&nbsp;</span></div>
<div class="endscriptcode">IMyService&nbsp;result&nbsp;=&nbsp;myContainer.Resolve&lt;IMyService&gt;();&nbsp;<br>
MyServiceBase&nbsp;result&nbsp;=&nbsp;myContainer.Resolve&lt;MyServiceBase&gt;();&nbsp;<br>
CustomerService&nbsp;result&nbsp;=&nbsp;(CustomerService)myContainer.Resolve&lt;MyServiceBase&gt;();</div>
<div class="endscriptcode"><span style="color:#800000">&nbsp;</span></div>
<div class="endscriptcode"><span style="color:#800000">&bull; Instance Lifetime.</span></div>
</span></span>
<p><span style="font-size:small">By default, the object instances returned by the container when we use the RegisterType method have a transient lifetime. The container does not store a reference to the object, and we will get a new instance of the type each
 time we call the Resolve method. </span></p>
<p><span style="font-size:small">If we want to manage the lifetime of the object, we specify a lifetime manager when we call the RegisterType method. The most common scenario is to create an instance that behaves like a singleton, so that the container creates
 the object the first time&nbsp;we call Resolve and then returns the same instance for all subsequent calls to Resolve for as long as the container is in scope.</span></p>
<p><span style="color:#000000; font-size:small">To register a class or type as a singleton instance:</span></p>
<p><span style="color:#000080; font-size:small">myContainer.RegisterType&lt;IMyService,&nbsp;CustomerService&gt;(<span class="cs__keyword">new</span>&nbsp;ContainerControlledLifetimeManager());&nbsp;<br>
myContainer.RegisterType&lt;MyServiceBase,&nbsp;CustomerService&gt;(<span class="cs__keyword">new</span>&nbsp;ContainerControlledLifetimeManager());&nbsp;<br>
myContainer.RegisterType&lt;CustomerService&gt;(<span class="cs__keyword">new</span>&nbsp;ContainerControlledLifetimeManager());&nbsp;<br>
myContainer.RegisterType&lt;CustomerService&gt;(<span class="cs__string">&quot;Customers&quot;</span>,&nbsp;<span class="cs__keyword">new</span>&nbsp;ContainerControlledLifetimeManager());&nbsp;<br>
myContainer.RegisterType&lt;IMyService,&nbsp;CustomerService&gt;(<span class="cs__string">&quot;Customers&quot;</span>,&nbsp;<span class="cs__keyword">new</span>&nbsp;ContainerControlledLifetimeManager());&nbsp;</span></p>
<p><span style="color:#000000; font-size:small">With <span style="color:#808000">
RegisterInstance </span>method by default, the container will take over lifetime management of the object and store a reference to it in the container (i.e. behave like a singleton for the lifetime of the container)</span></p>
<p><span style="color:#000080; font-size:small">EmailService&nbsp;myEmailService&nbsp;=&nbsp;<span class="cs__keyword">new</span>&nbsp;EmailService();&nbsp;<br>
myContainer.RegisterInstance&lt;IMyService&gt;(myEmailService);&nbsp;<br>
myContainer.RegisterInstance&lt;EmailService&gt;(myEmailService);&nbsp;<br>
myContainer.RegisterInstance&lt;EmailService&gt;(<span class="cs__string">&quot;Email&quot;</span>,&nbsp;myEmailService);</span></p>
<div class="endscriptcode"><span style="font-size:small">To register an existing object instance as an
<span style="color:#808000">externally controlled instance:</span></span></div>
<div class="endscriptcode">
<div class="endscriptcode">
<p><span style="font-size:small">Sometimes we may need to maintain control of the lifetime of existing objects or allow some other mechanism to control the lifetime.</span></p>
<p><span style="font-size:small"><span style="color:#808000">We can create our own custom lifetime managers</span> for specific scenarios, but Unity includes the ExternallyControlledLifetimeManager class that provides generic support for externally managed
 lifetimes.</span></p>
<p><span style="font-size:small">It causes the container to maintain only a weak reference to the object when we register it, allowing other code to maintain the object in memory or dispose it.</span></p>
<p><span style="color:#000080; font-size:small">EmailService&nbsp;myEmailService&nbsp;=&nbsp;<span class="cs__keyword">new</span>&nbsp;EmailService();&nbsp;</span><br>
<span style="color:#000080; font-size:small">myContainer.RegisterInstance&lt;IMyService&gt;(myEmailService,&nbsp;<span class="cs__keyword">new</span>&nbsp;ExternallyControlledLifetimeManager());&nbsp;</span><br>
<span style="color:#000080; font-size:small">myContainer.RegisterInstance&lt;EmailService&gt;(myEmailService,<span class="cs__keyword">new</span>&nbsp;ExternallyControlledLifetimeManager());&nbsp; myContainer.RegisterInstance&lt;MyServiceBase&gt;(myEmailService,<span class="cs__keyword">new</span>&nbsp;ExternallyControlledLifetimeManager());&nbsp;</span><br>
<span style="color:#000080; font-size:small">myContainer.RegisterInstance&lt;MyServiceBase&gt;(<span class="cs__string">&quot;Email&quot;</span>,myEmailService,&nbsp;<span class="cs__keyword">new</span>&nbsp;ExternallyControlledLifetimeManager());</span></p>
<p><span id="nsrTitle" style="color:#800000; font-size:small"><span style="color:#800000">&bull;
</span>Using BuildUp to Wire Up Objects Not Created by the Container</span></p>
<p><span style="font-size:small">The BuildUp method is useful when we need to apply dependency to an object created outside of our control&mdash;for example, in an ASP.NET or a WCF application. These types of application often create instances of objects and
 pass a reference to our code. Therefore, we cannot use the Unity container to generate a new object instance in the same way as we would in a Windows Forms application, where we usually create all the objects we need directly in our application code.</span></p>
<p><span style="font-size:small">If we have created or added extensions to the Unity container, these extensions can access and use a name that we specify when we execute the BuildUp method. This allows the extensions to change their behavior depending on the
 value we specify. </span></p>
<p><span style="font-size:small">For example, they may use the name to control how dependencies are resolved or to control features such as event wiring or interception. The actual behavior depends on the individual extension.
</span></p>
<p><span style="font-size:small">Apply dependency injection to an object of type CustomerService for which you have a reference to an existing instance in the variable myService. The returned object is (or is type-compatible with) the type CustomerService.
</span></p>
<p><span style="color:#0000ff; font-size:small">CustomerService result = myContainer.BuildUp&lt;CustomerService&gt;(myService);<br>
CustomerService result = myContainer.BuildUp&lt;CustomerService&gt;(myService, &quot;Customers&quot;); //Named instance</span></p>
<p><span style="color:#008000; font-size:medium">When to Use?</span><span style="font-size:small">&nbsp;</span></p>
</div>
</div>
</div>
<p><span style="font-size:small">1. Objects and classes may have dependencies on other objects or classes.</span></p>
<p><span style="font-size:small">2. Dependencies are complex or require abstraction.</span></p>
<p><span style="font-size:small">3. Want to take advantage of constructor, method, or property call injection features.</span></p>
<p><span style="font-size:small">4. Want to manage the lifetime of object instances.</span></p>
<p><span style="font-size:small">5. We want to be able to configure and change dependencies at run time.</span></p>
<p><span style="font-size:small">6. We want to be able to cache or persist the dependencies across postbacks in a Web application.</span></p>
<p><span style="font-size:small">7.&nbsp;We want to intercept calls to methods or properties to generate a policy chain or pipeline containing handlers that implement crosscutting tasks.</span></p>
<p><span style="color:#008000; font-size:medium">When to NOT Use?</span></p>
<p><span style="font-size:small">1. Objects and classes have no dependencies on other objects or classes.</span></p>
<p><span style="font-size:small">2. Dependencies are very simple and do not require abstraction.</span></p>
<p><span style="font-size:small">3. Limitation - While using Unity in partial trust environment, it uses dynamically generated methods to perform injection, so we cannot resolve value types i.e. we cannot use the Resolve method of the container to resolve types
 such as int (C#) or Integer (VB.NET). <br>
For the same reason, we cannot register and use mappings using the RegisterType methods where the target class is internal (C#), Friend (VB.NET), private (C#), or Private (VB.NET).</span></p>
<p><span style="font-size:small">4. We wish to build our application by following object oriented SOLID principles, but doing so would result in large amounts of difficult-to-maintain code to connect objects together.&nbsp;</span><span style="font-size:small">Read
 about SOLID Principles here&nbsp;</span><span style="font-size:small"><a href="http://gallery.technet.microsoft.com/OOPS-Principles-SOLID-017627d2">http://gallery.technet.microsoft.com/OOPS-Principles-SOLID-017627d2</a></span></p>
<p><span style="font-size:small">&nbsp;</span></p>
<div class="endscriptcode">
<p><span style="font-size:small">Thank you for reading my article. Drop all your questions/comments/feedback in QA tab.</span></p>
<p><span style="font-size:small"><span style="color:#000000"><span style="color:#3366ff">If you are happy with my article&nbsp;:) you can make me happy by giving 5
</span><span style="color:#3366ff">star <img id="67168" src="description/Ratings.png" alt="" width="74" height="15">&nbsp;rating :)</span></span></span><span style="color:#000000; font-size:small"><span style="color:#3366ff">&nbsp;</span></span></p>
<div class="saveHistory" id="allHistory">
<div>
<div class="endscriptcode">
<p><span style="color:#808000; font-size:small">Visit my all other articles here <a href="http://code.msdn.microsoft.com/site/search?f%5B0%5D.Type=User&amp;f%5B0%5D.Value=Srigopal%20Chitrapu">
http://code.msdn.microsoft.com/site/search?f%5B0%5D.Type=User&amp;f%5B0%5D.Value=Srigopal%20Chitrapu</a></span></p>
</div>
</div>
</div>
</div>
<div class="mcePaste" id="_mcePaste" style="width:1px; height:1px; overflow:hidden; top:0px; left:-10000px">
</div>

</div>


    </div>
</body>
</html>
